Mf2005ObsExtractor is a program for extracting simulated values from a variety of MODFLOW output files at particular times.
The following file types are supported. MNWI output files. Gage package output files for individual streams and lakes, and output files for the Subsidence, SFR, SWI, SWT, HOB, CHOB, DROB, RVOB, GBOB, and STOB packages.

The input for Mf2005ObsExtractor consists of two types of files. The first is a name file as in MODFLOW. It contains the names of the listings output file, the observations output file and one or more observation definition files or observation package output files. 

Structure of name file

BEGIN OUTPUT_FILES
  LIST <file name>
  [OBSERVATIONS_FILE <filename>]
  [INSTRUCTION_FILE <filename>]
END OUTPUT_FILES

BEGIN INPUT_FILES
  [MNW2 <MODFLOW MNW2 observation definition file name>]
  [LAK <MODFLOW LAK observation definition file name>]
  [SFR <MODFLOW SFR observation definition file name>]
  [SUB <MODFLOW  observation definition file name>]
  [SWT <MODFLOW SWT observation definition file name>]
  [SWI <MODFLOW SWI observation definition file name>]
  [HOB <MODFLOW HOB output file name>]
  [CHOB <MODFLOW CHOB output file name>]
  [DROB <MODFLOW DROB output file name>]
  [RVOB <MODFLOW RVOB output file name>]
  [GBOB <MODFLOW GBOB output file name>]
  [STOB <MODFLOW STOB output file name>]
  [DERIVED <derived observations definition file name>]
END INPUT_FILES

The input observation definition files for Mf2005ObsExtractor are specified in blocks. Each block starts with the keyword "Begin" followed by the block name. Each block ends with the keyword "End" followed by the block name. The keywords and blocknames are not case sensitive. Any line whose first non-whitespace character is "#" will be treated as a comment. Comments are printed to the listing file. Ultimately Mf2005ObsExtractor produces an output file consisting of observation names (within quotes) followed by their simulated values.

Structure of Blocks

BEGIN FILENAMES
  LISTING_FILE <filename>
  OBSERVATIONS_FILE <filename>
END FILENAMES

BEGIN OBSERVATIONS
  FILENAME <filename>
  OBSERVATION  <Observation name> <Observation type> <Observation time> <Observed value> <Weight> [PRINT|NO_PRINT]
  [NUMBER_OF_ZETA_SURFACES <number of zeta surfaces>]
  [TOTAL_NUMBER_OF_OBSERVATIONS <number of observation locations in SWI observation file>]
  [SWI_OBS_FORMAT (ASCII | BINARY SINGLE | BINARY DOUBLE)]
  OBSERVATION  <Observation name> <Observation type> <Observation time> <Observed value> <Weight> [PRINT|NO_PRINT]
  [ZETA_SURFACE_NUMBER <zeta surface number>]
  [SWI_OBSERVATION <number> <fraction> <name>]
  FILENAME <filename>
  OBSERVATION  <Observation name> <Observation type> <Observation time> <Observed value> <Weight> [PRINT|NO_PRINT]
  OBSERVATION <Observation name> <Observation type> <Observation time> <Observed value> <Weight> [PRINT|NO_PRINT]
  [CELL <layer_or_interbed_system> <row> <column> <cellweight>]
END OBSERVATIONS

The DERIVED_OBSERVATIONS block is optional.
[BEGIN DERIVED_OBSERVATIONS]
  [DIFFERENCE <Observation name> <Prior observation name> <Prior observation name>] <Observed value> <Weight> [PRINT|NO_PRINT]
  [SUM <Observation name> <Prior observation name1> <Prior observation name2> ... <Prior observation nameN>] <Observed value> <Weight> [PRINT|NO_PRINT]
[END DERIVED_OBSERVATIONS]

Explanations

The FILENAMES block is required.
FILENAMES Block
LISTING_FILE is a keyword indicating that the filename that follows is the name of the listing file to be generated by Mf2005ObsExtractor. The listing file will contain any error messages generated by Mf2005ObsExtractor as well as printing the data that it has read from the input file. 
<filename> is the name of a file. It may be enclosed in either single or double quotation marks.
OBSERVATIONS_FILE is a keyword indicating that the filename that follows is the name of the of the output file containing the observation names and simulated values.

The OBSERVATIONS blocks is required in all but the DERIVED input file and must follow the FILENAMES block. The OBSERVATIONS can not be included in the DERIVED input file.
OBSERVATIONS Block
FILENAME is a keyword indicating that the filename that follows is the name of a output file containing the data from which simulated values will be extracted. A FILENAME line can be followed by one or more OBSERVATION lines.
<filename> is the name of a file. It may be enclosed in either single or double quotation marks.

NUMBER_OF_ZETA_SURFACES is a keyword indicating that the integer that follows is the number of zeta surfaces defined in the Seawater Intrusion (SWI) package. NUMBER_OF_ZETA_SURFACES can only be used with SWI observation files. NUMBER_OF_ZETA_SURFACES is required for SWI observation files.
<number of zeta surfaces> is the number of zeta surfaces defined in the Seawater Intrusion (SWI) package.

TOTAL_NUMBER_OF_OBSERVATIONS is a keyword indicating that the integer that follows is the number of observation locations in the SWI Observation output file. TOTAL_NUMBER_OF_OBSERVATIONS can only be used with SWI observation files. TOTAL_NUMBER_OF_OBSERVATIONS is required for SWI observation files.
<number of observation locations in SWI observation file> is the number of observation locations in the SWI Observation output file.

SWI_OBS_FORMAT is a keyword indicating that the text that follows designates the file type of the SWI Observation output file. SWI_OBS_FORMAT must be followed by either "ASCII", "BINARY SINGLE", or "BINARY DOUBLE".  SWI_OBS_FORMAT can only be used with SWI observation files. SWI_OBS_FORMAT is required for SWI observation files.
"ASCII" is a keyword indicating that the SWI Observation output file is a text file.
"BINARY SINGLE" are a pair of keywords indicating that the SWI Observation output file is a single-precision binary file.
"BINARY DOUBLE" are a pair of keywords indicating that the SWI Observation output file is a double-precision binary file.

OBSERVATION is a keyword indicating that the values that follow define a simulated value that should be extracted from the previously specified MNWI output file. An OBSERVATION line must follow a FILENAME line.
<Observation name> is the name of an observation. All observation names must be unique. Observation names are not case sensitive. An observation name can contain white space if the name is enclosed in double quotation marks. However, observation names containing spaces are not recomended.

<Observation type> The observation type indicates the type of data to be extracted from the MNWI or gage output file. 
For MNWI, it must be one of the following: "Qin", "Qout", "Qnet", "QCumu", or "hwell". (Other observation types may be included in the MNWI output file but they are not included here.)
For lake gage output files, it must be one of the following: "Stage(H)", "Volume", "Precip.", "Evap.", "Runoff", "GW-Inflw", "GW-Outflw", "SW-Inflw", "SW-Outflw", "Withdrawal", "Lake-Inflx", "Total-Cond.", "Del-H-TS", "Del-V-TS", "Del-H-Cum", or "Del-V-Cum". 
For Stream Gage output files, it must be one of the following: "Stage", "Flow", "Depth", "Width", "Midpt-Flow", "Precip.", "ET", "Runoff", "Conductance", "HeadDiff", "Hyd.Grad." or "GW_FLOW". GW_FLOW is not part of the stream gage output file but will be calculated by multiplying the valued for Conductance and HeadDiff. 
For Subsidence observations, it must be one of the following: "LAYER COMPACTION", "NDSYS COMPACTION", "DSYS COMPACTION", "Z DISPLACEMENT", "ND CRITICAL HEAD", or "D CRITICAL HEAD".
For SWT observations, it must be one of the following: 'SUBSIDENCE', 'LAYER COMPACTION', 'SYSTM COMPACTION', 'Z DISPLACEMENT', 'PRECONSOL STRESS', 'CHANGE IN PCSTRS', 'GEOSTATIC STRESS', 'CHANGE IN G-STRS', 'EFFECTIVE STRESS', 'CHANGE IN EFF-ST', 'VOID RATIO', 'THICKNESS', or 'CENTER ELEVATION'
For SWI observations, the observation type must be "ZETA".
Observation types are not case sensitive. If an observation type contains any space characters, the observation type must be enclosed in singleor double quotation marks.

<Observation time> is the time for which a simulated value is desired. If the time at which a simulated value is not included in the MNWI output file, linear interpolation will be used to calculate a simulated value at the observation time. If the observation time is before the first time recorded in the MNWI output file, the first value from the file will be used. If the time is after the last time recorded in the MNWI output file, a value of -1E31 will be used to indicate that the data is missing. If no data is recorded for the observation time because the well was inactive, a value of -1E31 will be used to indicate that the data is missing. 

<Observed value> is the measure value for the observation.

<Weight> is the weight assigned to the observation.
[PRINT|NO_PRINT] PRINT and NO_PRINT are optional keywords used to indicate that a simulated value either should or should not be printed in the OBSERVATIONS_FILE. If these keywords are omitted, the simulated value will be printed. Regardless of the PRINT or NO_PRINT options, all simulated values are printed in the listing file.

ZETA_SURFACE_NUMBER is a keyword indicating that the zeta surface number from a SWI observation output file will be specified.
<zeta surface number> is the number of the zeta surface that is used for the observation.

SWI_OBSERVATION is a keyword indicating that the following three pieces of data specify the an observation series in the SWI output file that will be used for interpolating the simulated value to the location and time of the observation. Each observation from an SWI output file include one or more observation series from which the observed value will be interpolated. SWI_OBSERVATION can only be used with SWI observation files. SWI_OBSERVATION is required for SWI observation files.
<number> indicates the position of the observation series in the list of observation series stored in the SWI output file.
<fraction> indicates the fractional weight applied to this observation used to interpolate among all the SWI values extracted from the SWI observation output file.
<name> indicates the name of the observation series used for interpolating to the observation location. <name> is only used for ASCII SWI observation files but must be specified for all observations.

CELL is a keyword indicating that one or more cell locations will be specified. Cells can only be specified for subsidence and SWT observations. Each subsidence or SWT observation must include one or more cell locations. Cell locations are used to spatially interpolate to the observation location. The first cell listed must contain the observation location.
<layer_or_interbed_system> is the layer number or interbed system of the cell used for spatial interpolation to the observation location. <layer_or_interbed_system> must be specified for all observation types but is only used for LAYER COMPACTION, Z DISPLACEMENT, NDSYS COMPACTION, and DSYS COMPACTION among subsidence observations, It is used for all but the SUBSIDENCE SWT observation types. <layer_or_interbed_system> represents a layer for LAYER COMPACTION, Z DISPLACEMENT among subsidence observations. It represents and interbed system for NDSYS COMPACTION, and DSYS COMPACTION among subsidence observations. <layer_or_interbed_system> represents an interbed system for 'SYSTM COMPACTION', 'VOID RATIO', and 'THICKNESS' among SWT observations.
<row> is the row number of the cell used for spatial interpolation to the observation location.
<column> is the column number of the cell used for spatial interpolation to the observation location.
<cellweight> is the weight used for spatial interpolation for this cell.

The DERIVED_OBSERVATIONS block is optional. If present, it must follow the OBSERVATIONS block.
DERIVED_OBSERVATIONS Block
DIFFERENCE is a keyword indicating that the derived observation will be calculated as the difference between two previously defined observations.
SUM is a keyword indicating that the derived observation will be calculated as the sum of two or more previously defined observations.
<Observation name> is the name of an observation. All observation names must be unique. Observation names are not case sensitive. An observation name can contain white space if the name is enclosed in double quotation marks. However, observation names containing spaces are not recomended.
<Prior observation name> is the name of a previously defined observation. Two prior observation names must be specified. The simulated value will be the simulated value for the first observation minus the simulated value for the second observation.
<Prior observation name1>, <Prior observation name2>, through <Prior observation nameN> are the names of a previously defined observations. Two or more prior observation names must be specified. The simulated value will be the sum of the simulated values of the the prior observations.
<Observed value> is the measure value for the derived observation.
<Weight> is the weight assigned to the derived observation.
[PRINT|NO_PRINT] PRINT and NO_PRINT are optional keywords used to indicate that a simulated value either should or should not be printed in the OBSERVATIONS_FILE. If these keywords are omitted, the simulated value will be printed. Regardless of the PRINT or NO_PRINT options, all simulated values are printed in the listing file.
SUM is a keyword indicating that the derived observation will be calculated as the sum of two previously defined observations.
