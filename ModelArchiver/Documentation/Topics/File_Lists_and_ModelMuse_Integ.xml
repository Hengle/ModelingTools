<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="rbwinst" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Archive Lists and ModelMuse Integration</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Archive Lists and ModelMuse Integration</text></para>
    </header>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Archive lists are XML (Extensible Markup Language) files that specify the locations of files that should be part of the archive. The archive file also identifies files as input files, output files, ancillary files, or model program files. ModelMuse (Winston, 2009, 2014) creates an archive list file with the extension &quot;.axml&quot; each time it generates input files for a model. The image below shows an example archive list in a text editor.</text></para>
    <para styleclass="Normal"><image src="ArchiveList.png" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Normal"><text styleclass="Image Caption" translate="true">Example Archive List File</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">XML files have a single root node which, in this case, is &quot;Model_Archive_List&quot;. Below it are several additional nodes: &quot;bin&quot; for programs, &quot;ancillary&quot; for ancillary data, &quot;model&quot; for model input files and a georeference file, &quot;output&quot; for model output files, &quot;Modpath_Input_Files&quot; for input files for MODPATH, and &quot;Modpath_Output_Files&quot; for output files from MODPATH. These nodes each have child nodes that identify individual files. Except for the root nodes, each node has two attributes: &quot;Model_Name&quot; and &quot;FileType&quot;. For example, for the file &quot;MP6_Test1.bas&quot;, the Model_Name is &quot;MP6 Test1&quot; and the FileType is &quot;Model Input&quot;. For model input and output files, the FileType must always end with the words &quot;Input&quot; or &quot;Output&quot; respectively. In this case, the archive list relates to two separate models, a MODFLOW groundwater flow model and a MODPATH particle tracking model. For groundwater flow models, such as MODFLOW and SUTRA (Voss and Provost, 2002), the FileType will be &quot;Model Input&quot; or &quot;Model Output&quot;. For other types of models, the FileType will indicate the type of model in the FileType before &quot;Input&quot; or &quot;Output&quot;. For models other than groundwater flow models, ModelArchiver will use whatever text is before &quot;Input&quot; or &quot;Output&quot; and add it to the value in Model_Name to determine the name of the folder in the model archive. For example, the folder for the MODPATH input files would be &quot;model.MP6_Test1_Modpath&quot;.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">In the example archive pictured above, some of the files have the extension &quot;.archive&quot; added. These &quot;.archive&quot; will be stripped off the file names when the archive is created. The purpose of the &quot;.archive&quot; extension is to allow two different versions of a file to be created. One will be used when the model is originally run and the other will be used when running the model from the archive where the file structure may be different from what was used when the models were originally created. For example, ModelMuse created two different versions of the file &quot;RunModflow.bat&quot;. One version has the .archive &#160;extension and one lacks it.</text></para>
    <para styleclass="Normal"><image src="RunModelOriginal.png" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Image Caption"><text styleclass="Image Caption" translate="true">RunModflow.bat</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">In RunModflow.bat, the program ModelMonitor, runs MODFLOW rather than MODFLOW being run in a command-line window. When ModelMonitor is closed, the batch files opens the listing file with Notepatd and then runs a batchfile to run MODPATH.</text></para>
    <para styleclass="Normal"><image src="RumModelArchive.png" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Normal"><text styleclass="Image Caption" translate="true">RunModflow.bat.archive</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">In RunModflow.bat.archive, the batch file first checks that the proper output directory exists and if they do not, it creates them. then it runs MODFLOW in a command-line window.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Other files that use the .archive extension are MP6_Test1.nam.archive, Mp.bat.archive, MP6_Test1.mpn.archive, MP6_Test1.mpsim.archive, and RunModpath.Bat.archive. &#160;Those files are all slightly different from the corresponding versions without the .archive extension so that the model can run properly from within the archive.</text></para>
  </body>
</topic>
