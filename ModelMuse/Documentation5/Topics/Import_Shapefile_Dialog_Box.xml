<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" modified="2023-02-01T12:48:06.274-05:00" lasteditedby="rbwinst" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Import Shapefile Dialog Box</title>
  <keywords>
    <keyword translate="true">Shapefile</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:10px; margin-left:0px; line-height:2.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass="Heading1" translate="true">Import Shapefile Dialog Box</text></para>
    </header>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import Shapefile</text><text styleclass="Normal" translate="true"> dialog box is used to import Shapefiles into ModelMuse. To display the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import Shapefile</text><text styleclass="Normal" translate="true"> dialog box, select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">File|Import|Shapefile...</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The Shapefile format (Environmental Systems Research Institute, Inc, 1998) is a commonly used file format in Geographic Information Systems. Other types of geographic information can be converted to Shapefiles using GIS software. Two free GIS program are QGIS </text><link displaytype="text" defaultstyle="true" type="weblink" href="http://www.qgis.org" target="_blank" styleclass="Normal" translate="true">http://www.qgis.org</link><text styleclass="Normal" translate="true"> and &#160;MapWindow </text><link displaytype="text" defaultstyle="true" type="weblink" href="http://www.mapwindow.org/" target="_blank" styleclass="Normal" translate="true">http://www.mapwindow.org/</link><text styleclass="Normal" translate="true">.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The Shapefile is imported either as a series of objects or a single object with multiple sections on the top view of the model. ModelMuse can usually handle a single object with multiple sections more efficiently than multiple objects. However, in some cases, the shapes can only be imported as multiple objects. The imported object(s) will set the values of data sets or define boundary conditions as specified by the user. The names of the imported object(s) are based on the name of the file from which the objects are imported. The </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Select_Objects_by_Name" styleclass="Normal" style="font-weight:bold;" translate="true">Select Objects by Name</link><text styleclass="Table Cell" translate="true"> dialog box</text><text styleclass="Normal" translate="true"> can be used to select all these objects at a later time. </text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Options 1 Tab</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">After selecting the Shapefile to import, the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Options 1</text><text styleclass="Normal" translate="true"> tab of the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import Shapefile</text><text styleclass="Normal" translate="true"> dialog box is displayed. The user decides whether to set the values of enclosed elements, nodes, or cells; intersected elements, nodes, or cells; or to set values or elements, nodes, or cells by interpolation. In PHAST and SUTRA models, the user decides whether to evaluate the objects at element or nodes. After being imported, the shapes can either be selected, visible but not selected (the default), or hidden. If there are a very large number of objects to be imported, it may be best to have the objects be hidden when they are imported. </text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The imported objects can have zero, one, or two associated Z-dimension formulas. To edit these formulas with the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Formula_Editor" styleclass="Normal" style="font-weight:bold;" translate="true">Formula Editor</link><text styleclass="Normal" translate="true">, the user can click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Edit()...</text><text styleclass="Normal" translate="true"> button next to the formula. </text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">In some cases, the user may not wish to import all the shapes in a Shapefile. The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import criterion</text><text styleclass="Normal" translate="true"> can be used to determine which shapes are imported. The user can enter a formula which will be evaluated for each shape. Only those shapes for which the formula evaluates to True will be imported. The user can click the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Edit F()… </text><text styleclass="Normal" translate="true">button next to the formula to edit the formula for the import criterion using the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Formula_Editor" styleclass="Normal" style="font-weight:bold;" translate="true">Formula Editor</link><text styleclass="Normal" translate="true">. </text><link displaytype="text" defaultstyle="true" type="topiclink" href="" anchor="Example" styleclass="Normal" translate="true">The example at the end of this topic</link><text styleclass="Normal" translate="true"> shows how the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import criterion</text><text styleclass="Normal" translate="true"> can be used to advantage. </text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Options 2 Tab</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The following, more rarely used options can be selected on the </text><text styleclass="Strong" translate="true">Options 2</text><text styleclass="Normal" translate="true"> tab.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">By default, the names of the imported objects are based on the name of the Shapefile from which they are imported. However, the user can elect to use a one of the text attributes of the Shapes in the Shapefile. This is most useful when each object has a unique identifier.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Some Shapefiles can have a measured value or a z value for each vertex of each shape. If present, these can be imported by checking the </text><text styleclass="Strong" translate="true">Import Z coordinate and slope for each point</text><text styleclass="Normal" translate="true"> or </text><text styleclass="Strong" translate="true">Import measured value for each point</text><text styleclass="Normal" translate="true"> checkboxes. The z and measured values will be imported as vertex values. If Z coordinates are imported, ModelMuse will also compute a slope for each point and import those as vertex values too. (See </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Vertex_Values_Dialog_Box" styleclass="Normal" translate="true">Vertex Values dialog box</link><text styleclass="Normal" translate="true">.)</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">If the </text><text styleclass="Strong" translate="true">Position Locked</text><text styleclass="Normal" translate="true"> checkbox is checked, it will be impossible to accidentally drag the imported objects to new positions. This restriction can be changed in the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Properties_Tab" anchor="PositionLocked" styleclass="Normal" translate="true">Object Properties dialog box</link><text styleclass="Normal" translate="true">.</text></para>
    <para styleclass="Normal"><snippet src="ConvertUnits" inline="false"/></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Data and CSV Tabs</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The attributes of the shapes are displayed in the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data</text><text styleclass="Normal" translate="true"> tab of the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import Shapefile</text><text styleclass="Normal" translate="true"> dialog box. The user chooses which attributes to import by checking the checkbox next to the name of the attribute. The user can then decide whether to create a new data set for each attribute that is imported or to assign values to existing, compatible data sets. Only data sets with an orientation of &quot;2-D Top&quot; can be used for the imported shapes. The user can choose an interpolation method for any new or existing data set for which objects will be imported. &#160;(See </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Interpolation_Methods" styleclass="Normal" translate="true">Interpolation Methods</link><text styleclass="Normal" translate="true">) </text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Shapefiles can have a maximum of 255 attributes. In some cases, it may be desirable to have more attributes than that. The user can use &quot;comma-separated value&quot; files to supply additional attributes. This is done by specifying the name or names of comma-separated value files on the </text><text styleclass="Strong" translate="true">CSV (Optional)</text><text styleclass="Normal" translate="true"> tab. The comma-separated value files must have a specific structure. The first line must contain labels for the attributes. The labels must start with a letter and contain only letters, digits, and the underscore character &quot;_.&quot; Labels are not allowed to repeat even if they are in different files. Each label must be separated from the next by a comma and (optionally) by one or more space characters. Each successive line must contain exactly as many values as there are labels. There must be one such line for each shape in the shape file including &quot;null&quot; shapes. The order of the rows in the CSV file must be the same as the order of the shapes in the Shapefile. If you do not know the order of the shapes in the Shapefile, you may be able to determine the order by examining the attributes of the Shapefile in a database program. The attributes are stored in the .dbf file that is part of the Shapefile. Another way to determine the order of the shapes is to assign each a unique attribute value and then import the shapes using that attribute to determine the names of the imported objects. You could then use </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Rearrange_Objects_Dialog_Box" styleclass="Strong" translate="true">Object|Edit|Rearrange Objects</link><text styleclass="Normal" translate="true"> to view the order of the objects.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">By default, all values in CSV files are assumed to be real numbers. However, if other types of data are included, in the CSV file, this can be indicated by selecting &quot;Label indicates field type&quot; at the bottom of the CSV tab. If this option is selected, the first character of a label name is used to indicate the data type. &quot;D&quot;, &quot;R&quot;, &quot;d&quot;, and &quot;r&quot; (for double and real) indicate real numbers. &quot;I&quot; and &quot;i&quot; indicate an integer. &quot;B&quot; and &quot;b&quot; indicate Boolean data. &quot;T&quot; and &quot;t&quot; indicate text. Any other first character will be treated as indicating a real number.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">If the user wishes to use imported Shapefiles to set the values of a 3-D data set, the user can define a separate 2-D data set for each </text><link displaytype="text" defaultstyle="true" type="topiclink" href="MODFLOW_Layer_Groups_Dialog_Box" styleclass="Normal" translate="true">layer group</link><text styleclass="Normal" translate="true">, use the default formula of the 3-D data set to link it to the 2-D layer groups and import a separate Shapefile for each layer group. For example, the user could define 2-D data sets named Kx1, Kx2, and Kx3 to define the hydraulic conductivity in layer groups 1, 2, and 3 respectively. An appropriate default formula for the Kx data set in this case would be &quot;CaseR(Layer, Kx1, Kx2, Kx3).&quot;</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Features Tab</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Features</text><text styleclass="Normal" translate="true"> tab is used to specify that the imported shapes will specify boundary conditions or other similar features. The </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Features</text><text styleclass="Normal" translate="true"> tab is only visible when it is possible to define model features with the imported shapes. At the top of the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Features</text><text styleclass="Normal" translate="true"> tab, the user chooses what type of model feature to define using the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Feature choice</text><text styleclass="Normal" translate="true"> combo box. The user can then enter the number of times periods desired for the imported objects using the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Number of times</text><text styleclass="Normal" translate="true"> edit box. In the table, either types a constant value that will apply to all the imported objects or selects the shape attributes that will define the properties of the feature. Additional controls may appear beneath the table. These are used to define properties of the features that do not vary with time. Some types of features can only be imported as separate objects. These include streams (SFR package), multinode wells (MNW2 package), lakes (LAK package) head observations (HOB package) and pipes in the Conduit Flow Process (CFP). If the SSM Sink and Source Mixing package in MT3DMS is selected, the concentrations associated with a particular sink and source packages can be imported as part of the sink and source package. When importing head observations, the user can specify a value that represents missing data. If either the observation time or observed head is that value, those values will not be imported. </text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Some model features are specified using text variables. In such cases, the user can either choose a value that will apply to all the shapes or select a text attribute that has a value that matches one of the predetermined choices for that feature. For example in the Multi-Aquifer Well (MAW) package in MODFLOW 6, the user can either select SPECIFIED, THIEM, SKIN, CUMULATIVE, or MEAN for the conductance equation or select a text attribute that has values corresponding to those choices.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Coordinate Conversion Tab</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Some Shapefiles store the coordinates of points as latitudes and longitudes. On the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Coordinate Conversion</text><text styleclass="Normal" translate="true"> tab, the user can choose to convert those coordinates to Universal Transverse Mercator (UTM) coordinates. If all the points in the Shapefile belong in the same UTM zone, that zone will be picked automatically. Otherwise, the user must specify the appropriate zone number in an edit box. The user also must specify the ellipsoid used as a basis for the conversion. Normally, the default ellipsoid is appropriate. More information about coordinate conversions and map projections can be found in Snyder (1987).</text></para>
    <para styleclass="Normal"><anchor id="Example" styleclass="Normal"></anchor><text styleclass="Normal" translate="true">The following example illustrates the use of the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import criterion</text><text styleclass="Normal" translate="true"> and coordinate conversions. The Import criterion will be used to select only the shapes from Oklahoma will be imported from a Shapefile containing shapes for rivers throughout the United States. Oklahoma was selected for this example because example 4 from the PHAST documentation is set in Oklahoma. The data in the Shapefile are in decimal degrees. These coordinates will be converted to UTM coordinates.</text></para>
    <list id="0" type="ol" listtype="decimal" formatstring="&#37;&#115;&#46;" format-charset="DEFAULT_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:&apos;Times New Roman&apos;; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">The National Atlas of the United States (http://nationalatlas.gov/atlasftp.html#hydrogm) has a Shapefile that represents the major streams and water bodies in the United States. Download the Shapefile version of that data (hydrogm020.tar.gz) and extract its contents. </text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">In ModelMuse, select </text><text styleclass="Normal" style="font-weight:bold;" translate="true">File|Import|Shapefile…</text><text styleclass="Normal" translate="true"> and then select hydrogl020.shp which was extracted from hydrogm020.tar.gz.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">After the Shape geometry file has been read, the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import Shapefile</text><text styleclass="Normal" translate="true"> dialog box will be displayed. Go to the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Coordinate Conversion</text><text styleclass="Normal" translate="true"> tab and check the checkbox labeled </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Convert coordinates from decimal degrees to UTM</text><text styleclass="Normal" translate="true">. Change the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">UTM zone number</text><text styleclass="Normal" translate="true"> to 14. This is the appropriate UTM zone for Oklahoma.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Go to the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data</text><text styleclass="Normal" translate="true"> tab and change the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Import criterion</text><text styleclass="Normal" translate="true"> to </text></li>
    </list>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Pos(&quot;OK,&quot; UpperCase(STATE)) &gt; 0.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">STATE is one of the attributes of the Shapefile. It holds abbreviations for the state or states in which each water body is present. This formula evaluates to true if the water body is in the state of Oklahoma (abbreviation = “OK”). The user can choose which attributes to import by selecting them at the top of the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">Data</text><text styleclass="Normal" translate="true"> tab and clicking the </text><text styleclass="Normal" style="font-weight:bold;" translate="true">OK</text><text styleclass="Normal" translate="true"> button. For an explanation of the attributes in the Shapefile, see the file hydrogm020.txt that came with the Shapefile. </text></para>
    <list id="0" type="ol" listtype="decimal" formatstring="&#37;&#115;&#46;" format-charset="DEFAULT_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:&apos;Times New Roman&apos;; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">After the shapes have been imported, select </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Go_To_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">Navigation|Go To…</link><text styleclass="Normal" translate="true"> and select the first imported shape. Then zoom out to see all the imported water bodies. Only shapes that are at least partially in Oklahoma will have been imported, and their coordinates will have been converted to UTM coordinates (fig. 26).</text></li>
    </list>
    <para styleclass="Normal"></para>
    <para styleclass="Normal" style="text-align:center;"><image src="OklahomaRivers.png" scale="-99.90%" styleclass="Image Caption" figurelistinclude="0"><title translate="true">Imported Oklahoma water bodies</title></image></para>
    <para styleclass="Image Caption"><text styleclass="Image Number" translate="true">Figure 26</text><text styleclass="Image Caption" translate="true">. Imported Oklahoma water bodies.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">See also: </text></para>
    <list id="1" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:Symbol; font-size:12pt; color:#000000;">
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="Export_Shapefile_Dialog_Box" styleclass="Normal" style="font-weight:bold;" translate="true">Export Grid/Mesh Data to Shapefile</link><link displaytype="text" defaultstyle="true" type="topiclink" href="Export_Shapefile_Dialog_Box" styleclass="Normal" translate="true"> dialog box</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="Export_Objects_to_Shapefile" styleclass="Strong" translate="true">Export Objects to Shapefile</link><link displaytype="text" defaultstyle="true" type="topiclink" href="Export_Objects_to_Shapefile" styleclass="Normal" translate="true"> dialog box</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportContoursToShapefile" styleclass="Normal" translate="true">Export Contours to Shapefile</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportPathlinesToShapefile" styleclass="Normal" translate="true">Export Pathlines to Shapefile</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportEndpointsAtStartingLocationsToShapefile" styleclass="Normal" translate="true">Export Endpoints at Starting Locations to Shapefile</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportEndpointsAtEndingLocationsToShapefile" styleclass="Normal" translate="true">Export Endpoints at Ending Locations to Shapefile</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportTimeSeriesToShapefile" styleclass="Normal" translate="true">Export Time Series to Shapefile</link></li>
      <li styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="File" anchor="ExportHeadObservationsToShapefile" styleclass="Normal" translate="true">Export Head Observations to Shapefile</link></li>
    </list>
  </body>
</topic>
