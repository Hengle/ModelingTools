<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" modified="2023-09-14T10:51:07.634-04:00" lasteditedby="rbwinst" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Manage Parameters Dialog Box</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Manage Parameters Dialog Box</text></para>
    </header>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The Manage Parameters dialog box is displayed by selecting </text><text styleclass="Strong" translate="true">Model|Manage Parameters... </text><text styleclass="Normal" translate="true">The dialog box is used to create, delete, or change the properties of MODFLOW or &#160;PEST parameters. </text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">See also </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Using_Parameters_with_Data_Set" styleclass="Normal" translate="true">Using Parameters with Data Sets</link><text styleclass="Normal" translate="true"> and </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Using_PEST_Parameters_with_Mod" styleclass="Normal" translate="true">Using PEST Parameters with Model Features</link><text styleclass="Normal" translate="true">.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">PEST parameters can only be created if </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Pest_Properties_Basic_Pane" styleclass="Normal" translate="true">PEST is active</link><text styleclass="Normal" translate="true">. To change the name, parameter type, or value for an existing parameter, simply edit them in the table. Only ASCII characters are allowed in parameter names. Note that changes of parameter type will cause objects that used those parameters to stop using them. For example if you change a GHB parameter to a RIV parameter, any objects that were using the GHB parameter to define general head boundaries will no longer use the parameter. For parameters that can have data sets for the multiplier or zone arrays, use the check boxes in the appropriate column to edit whether or not a multiplier or zone array should be present. To add a parameter use the edit box on the lower left labeled </text><text styleclass="Strong" translate="true">Number of Parameters</text><text styleclass="Normal" translate="true"> to increase the number of parameters and then set the properties of the new parameter in the empty row at the bottom of the table. To delete a parameter, select the row containing the parameter and click the </text><text styleclass="Strong" translate="true">Delete</text><text styleclass="Normal" translate="true"> button. </text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The data in the table can be sorted based on any of the columns in the table. Simply click on a column header to sort the table using the data in that column.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">New values of the parameters can be read from a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Parameter_Value_File" domain="ModflowGuide.hmxp" styleclass="Normal" translate="true">.pval file</link><text styleclass="Normal" translate="true"> or a PEST .par or .bpa file. This can be useful in automated parameter estimation in which the parameter estimation program has created a new version of the .pval, .par file, or .bpa for the model. It is also possible to </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Running_ModelMuse_from_the_Com" styleclass="Normal" translate="true">import .pval files from the command line</link><text styleclass="Normal" translate="true">.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The dialog box has a different appearance depending on whether or not </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Pest_Properties_Basic_Pane" styleclass="Normal" translate="true">PEST is active</link><text styleclass="Normal" translate="true">. If PEST is not active, only a single table is visible on which the user can specify the name, type, and value of the parameter and if zone or multiplier arrays will be used with it. If PEST is active, that table is expanded to include additional columns and the table is on one of four tabs. Additional data relevant to PEST is specified in the additional columns and tabs. The descriptions of the variables below are largely quotations or abbreviated versions of the descriptions in the PEST manual.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Parameters Tab</text></para>
    <para styleclass="Normal"><anchor id="PilotPoints" styleclass="Strong"></anchor><text styleclass="Strong" translate="true">Pilot Points</text><text styleclass="Normal" translate="true"> If Pilot Points is checked and a data set uses the parameter, pilot points related to the parameter will be used to interpolate values between pilot point locations. Pilot points are defined on the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Pest_Properties_Pilot_Points_P" styleclass="Normal" translate="true">Pilot Points Pane</link><text styleclass="Normal" translate="true"> of the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Pest_Properties_Dialog_Box" styleclass="Normal" translate="true">PEST Properties dialog box</link><text styleclass="Normal" translate="true">.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Transform (PARTRANS)</text><text styleclass="Normal" translate="true"> There are four possibilities for PARTRANS: none, log fixed, or tied. If &quot;</text><text styleclass="Strong" translate="true">none</text><text styleclass="Normal" translate="true">&quot; is chosen, the parameter will be used without any transformation. If &quot;</text><text styleclass="Strong" translate="true">log</text><text styleclass="Normal" translate="true">&quot; is chosen, the parameter will be log-transformed. If a parameter is log-transformed PEST estimates the log of the parameter rather than the parameter itself. A parameter that can become zero or negative in the course of the inversion process must not be log-transformed; hence if a parameter’s lower bound is zero or less, PEST will disallow logarithmic transformation of that parameter. If a parameter is </text><text styleclass="Strong" translate="true">fixed</text><text styleclass="Normal" translate="true">, its value will not be estimated. If &quot;</text><text styleclass="Strong" translate="true">tied</text><text styleclass="Normal" translate="true">&quot; is selected, a parameter is linked to another parameter in which case, the parameter plays only a limited role in the inversion process. However the parameter to which the tied parameter is linked (this “parent” parameter must be neither fixed nor tied itself) takes an active part in the inversion process; the tied parameter simply “piggy-backs” on the parent parameter, the value of the tied parameter maintaining at all times the same ratio to the parent parameter as the ratio of their initial values.</text></para>
    <para styleclass="Strong"><text styleclass="Strong" translate="true">Change Limitation (PARCHGLIM)</text><text styleclass="Normal" translate="true"> is used to designate whether an adjustable parameter is relative-limited, factor-limited or absolute-limited; see section 3.4.8 of the PEST User &#160;Manual and the discussion of the input variables RELPARMAX, FACPARMAX and ABSPARMAX(N) in it. Up to ten parameters can be absolute-limited.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Lower Bound (PARLBND)</text><text styleclass="Normal" translate="true"> is the parameter lower bound. If a parameter is log transformed. the lower bound must be greater than zero. The lower bound should be less than or equal to the parameter value.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Upper Bound (PARUBND)</text><text styleclass="Normal" translate="true"> is the parameter upper bound. It should be greater than the lower bound. The upper bound should be greater than or equal to the parameter value.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Parameter Group (PARGP)</text><text styleclass="Normal" translate="true"> is the name of the parameter group. Parameter groups are defined on the Parameter Groups tabs. Multiple parameters can be assigned to the same parameter groups in a single step on the Group Assignments tab but they can also be assigned here.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">SCALE</text><text styleclass="Normal" translate="true"> and </text><text styleclass="Strong" translate="true">OFFSET</text><text styleclass="Normal" translate="true"> Just before a parameter value is written to a model input file it is multiplied by the real variable SCALE, after which the real variable OFFSET is added. If not specified, SCALE will be set to 1 and OFFSET will be set to 0.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">ABSPARMAX(N)</text><text styleclass="Normal" translate="true"> If PARCHGLIM is set to absolute-limited, ABSPARMAX(N) is the absolute limit that is used.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Tied Parameter (PARTIED)</text><text styleclass="Normal" translate="true"> is the name of the parameter to which the current parameter is tied. See PARTRANS above. Tied parameters can also be assigned on the Tied Parameters tab.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Parameter Groups Tab</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Group Name (PARGPNME)</text><text styleclass="Normal" translate="true"> is the parameter group name. ModelMuse limits parameter group names to 6 characters.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Increment Type (INCTYP)</text><text styleclass="Normal" translate="true"> and </text><text styleclass="Strong" translate="true">Parameter Increment (DERINC)</text><text styleclass="Normal" translate="true"> INCTYP can be “relative”, “absolute” or “rel_to_max”. If it is “relative”, the increment used for forward-difference calculation of derivatives with respect to any parameter belonging to the group is calculated as a fraction of the current value of that parameter; that fraction is provided as the real variable DERINC. However if INCTYP is “absolute” the parameter increment for parameters belonging to the group is fixed, being again provided as the variable DERINC. Alternatively, if INCTYP is “rel_to_max”, the increment for any group member is calculated as a fraction of the group member with highest absolute value, that fraction again being DERINC.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">For parameters that will be used with pilot points, remember that the DERINC will be applied to the pilot point value rather than the parameter value. If DERINC is too large, a warning similar to the following may appear.</text></para>
    <para styleclass="Normal" style="margin-bottom:0px;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; color:#ffffff; background-color:#000000;" translate="true"> Derivative increment for parameter &quot;2_1&quot; greater than parameter range</text></para>
    <para styleclass="Normal"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; color:#ffffff; background-color:#000000;" translate="true"> &#160; divided by 3.2.</text><text styleclass="Normal" translate="true">&#32;</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Min Parameter Increment (DERINCLB)</text><text styleclass="Normal" translate="true"> If a parameter increment is calculated as “relative” or “rel_to_max”, it is possible that it may become too low if the parameter becomes very small or, in the case of the “rel_to_max” option, if the magnitude of the largest parameter in the group becomes very small. A parameter increment becomes “too low” if it does not allow reliable derivatives to be calculated with respect to that parameter because of round off errors incurred in the subtraction of nearly equal model-generated observation values.</text></para>
    <para styleclass="Normal" style="margin-left:24px;"><text styleclass="Normal" translate="true">&quot;To circumvent this possibility, an absolute lower bound can be placed on parameter increments; this lower bound is the same for all group members, and is provided as the value of the DERINCLB variable. Thus if a parameter value is currently 1000.0 and it belongs to a group for which INCTYP is “relative”, DERINC is 0.01, and DERINCLB is 15.0, the parameter increment will be 15.0 instead of 10.0 calculated on the basis of DERINC alone. If you do not wish to place a lower bound on parameter increments in this fashion, you should provide DERINCLB with a value of 0.0.&quot;</text></para>
    <para styleclass="Normal"><anchor id="FORCEN" styleclass="Strong"></anchor><text styleclass="Strong" translate="true">Derivative Method (FORCEN)</text><text styleclass="Normal" translate="true"> The character variable FORCEN (an abbreviation of “forward/central”) determines whether derivatives for group members are calculated using forward differences, one of the variants of the central difference method, one of the variants of the five-point method, or whether different alternatives are used in the course of an optimisation run. It must assume one of the values “always_2”, “always_3”, “always_5”, “switch” or “switch_5”.</text></para>
    <para styleclass="Normal" style="margin-left:24px;"><text styleclass="Normal" translate="true">&quot;If FORCEN for a particular group is “always_2”, derivatives for all parameters belonging to that group will always be calculated using the forward difference method; filling of the columns of the Jacobian matrix corresponding to members of the group will require as many model runs as there are adjustable parameters in the group. If FORCEN is provided as “always_3”, the filling of these same columns will require twice as many model runs as there are parameters within the group; however the derivatives will be calculated with greater numerical precision; this will probably have a beneficial effect on PEST’s performance. If FORCEN is set to “always_5” then a five point finite-difference stencil is used for derivatives calculation, this requiring four model runs per parameter.</text></para>
    <para styleclass="Normal" style="margin-left:24px;"><text styleclass="Normal" translate="true">&quot;If FORCEN is set to “switch”, derivatives calculation for all adjustable group members begins using the forward difference method, but switches to the three-point method for the remainder of the inversion process on the iteration after the relative objective function reduction between successive PEST iterations is less than PHIREDSWH, a value for which is supplied in the “control data” section of the PEST control file. If FORCEN is set to “switch_5”, the switch is made to five-point derivatives calculation instead of three-point derivatives calculation. In either case, the switch to higher order derivatives can be postponed until a certain iteration is reached using the optional NOPTSWITCH variable in the “control data” section of the PEST control file.</text></para>
    <para styleclass="Normal" style="margin-left:24px;"><text styleclass="Normal" translate="true">&quot;Experience has shown that in most instances the most appropriate value for FORCEN is “switch”. This allows speed to take precedence over accuracy in the early stages of the inversion process when accuracy is not critical to objective function improvement, and accuracy to take precedence over speed later in the process when realisation of a (normally smaller) objective function improvement requires that derivatives be calculated with as much precision as possible.&quot;</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Derivative Increment Multiplier (DERINCMUL)</text><text styleclass="Normal" translate="true"> If derivatives are calculated using one of the three-point methods, the parameter increment is first added to the current parameter value prior to a model run, and then subtracted prior to another model run. For five-point methods two such incremental additions and subtractions are made. In some cases it may be desirable to increase the value of the increment for this process above that used for forward difference derivatives calculation. The real variable DERINCMUL allows you to achieve this. If three-point derivatives calculation is employed, the value of DERINC is multiplied by DERINCMUL; this applies whether DERINC holds the increment factor, as it does for the “relative” or “rel_to_max” increment types, or holds the parameter increment itself, as it does for the “absolute” increment type. The role of DERINCMUL when using a five-point derivatives stencil is similar; see section 3.5.4 of the PEST User Manual. A DERINCMUL value of between 1.0 and 2.0 is usually satisfactory.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">3-Point Derivative Method (DERMTHD)</text><text styleclass="Normal" translate="true"> If FORCEN for a particular parameter group is “always_3” or “switch”, you must inform PEST which three-point method to use. This is accomplished through the character variable DERMTHD which must then be supplied as “parabolic”, “best_fit” or “outside_pts”.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">5-Point Derivative Method (DERMTHD)</text><text styleclass="Normal" translate="true"> If FORCEN is set to “always_5” or “switch_5” then appropriate values for DERMTHD are “minvar” and “maxprec”.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Use Split Slope Analysis (SPLITTHRESH)</text><text styleclass="Normal" translate="true"> If this is selected, split slope analysis will be activated.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Split Slope Threshold (SPLITTHRESH)</text><text styleclass="Normal" translate="true"> Split slope analysis will only be actually undertaken for a particular observation/parameter pair if the absolute value of the slope of at least one of the neighbouring segments employed in three-point derivatives calculation for that observation/parameter pair is greater than the value supplied for SPLITTHRESH.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">Maximum Relative Slope Difference (SPLITRELDIFF)</text><text styleclass="Normal" translate="true"> If the absolute difference in slopes of neighbouring segments, divided by the smaller of these two slopes, is greater than SPLITRELDIFF, then segment rejection is activated.</text></para>
    <para styleclass="Normal"><text styleclass="Strong" translate="true">SPLITACTION</text><text styleclass="Normal" translate="true"> The SPLITACTION variable defines the manner in which segment rejection is undertaken. This is a text variable which must be set to either “smaller”, “zero” or “previous”. If it is set to “smaller”, then the slope segment with higher absolute slope value is rejected, and the derivative is taken as the slope of the segment of lesser absolute slope. If it is set to “zero” then the derivative of the current observation with respect to the current parameter is assigned a value of zero for the current iteration. If it is set to “previous”, then the derivative obtained in the previous iteration is retained for the present iteration as well.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Group Assignments Tab</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The Group Assignments tab can be used to assign multiple parameters to a parameter group at once. The tab contains a tree control in which the root nodes are the parameter groups and the leaf nodes are the parameters assigned to each group. Parameters can be reassigned by selecting them and dragging them to a new parameter group. Parameter groups can also be assigned on the parameters tab.</text></para>
    <para styleclass="Heading2_atoc_"><text styleclass="Heading2_atoc_" translate="true">Tied Parameters Tab.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The Tied Parameters tab. The tab contains a tree control in which the root nodes are the parameters to which other parameters can be tied and the leaf nodes are the parameters tied to the root node. Parameters can be reassigned by selecting them and dragging them to a new root parameter or away from any parameter to untie them. Tied parameters can also be assigned on the parameters tab.</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"></para>
  </body>
</topic>
